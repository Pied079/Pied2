// Dados simulados dos produtos da Pied
const products =;

let cart = JSON.parse(localStorage.getItem('pied_cart')) ||;

// Renderizar Produtos na Vitrine
function displayProducts() {
    const productList = document.getElementById('product-list');
    productList.innerHTML = products.map(product => `
        <article class="product__card">
            <img src="${product.img}" alt="${product.name}" class="product__img">
            <h3 class="product__title">${product.name}</h3>
            <span class="product__price">R$ ${product.price.toFixed(2)}</span>
            <br><br>
            <button class="button" onclick="addToCart(${product.id})">Comprar</button>
        </article>
    `).join('');
}

// Lógica do Carrinho
function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    const cartItem = cart.find(item => item.id === productId);

    if (cartItem) {
        cartItem.quantity += 1;
    } else {
        cart.push({...product, quantity: 1 });
    }

    updateCart();
}

function updateCart() {
    localStorage.setItem('pied_cart', JSON.stringify(cart));
    const count = cart.reduce((total, item) => total + item.quantity, 0);
    document.getElementById('cart-count').textContent = count;
    console.log('Carrinho atualizado:', cart);
}

// Inicialização
document.addEventListener('DOMContentLoaded', () => {
    displayProducts();
    updateCart();
});
function sendOrderToWhatsApp() {
    if (cart.length === 0) return alert("Seu carrinho está vazio!");

    let message = "*NOVO PEDIDO - LOJA PIED*%0A%0A";
    let total = 0;

    cart.forEach(item => {
        const subtotal = item.price * item.quantity;
        message += `• ${item.quantity}x *${item.name}* - R$ ${subtotal.toFixed(2)}%0A`;
        total += subtotal;
    });

    message += `%0A*VALOR TOTAL: R$ ${total.toFixed(2)}*%0A%0A`;
    message += "_Por favor, informe seu endereço para cálculo de frete._";

    const phoneNumber = "5579996300185"; // Substituir pelo número da Pied
    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;

    window.open(whatsappUrl, '_blank');
}

